{% extends "auth-base.html" %}
{% block content %}

<div class="container">
  <section style="background-color: #eee;">
    <div class=" col-lg-8 mx-auto">
  
      <div class="row">
        <div class="col-lg-4">
          <div class="card mb-4">
            <div class="card-body text-center">
              <img src="{{ user.profile_pic_url }}" alt="avatar"
                class="rounded-circle img-fluid" style="width: 150px; height: 150px;">


              <a class="my-3 py-2" href="{{ url_for('main.public_profile', username=user.username) }}"><h5>{{ user.username }}</h5></a>
              <p class="text-muted mb-1">{{ user.professional_info.profession }} </p>
              <p class="text-muted mb-4">{{ user.address }} </p>

              <hr>
              {% if session_user_id != user.user_id %}
              <div class="d-flex justify-content-center mb-2">
                <button  type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary">Follow</button>
                <button  type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-outline-primary ms-1">Message</button>
              </div>
              {% endif %}
              <hr>
              {% if session_user_id == user.user_id %}
              <a class="text-center btn btn-outline-primary" role="button" aria-disabled="true" href= "{{ url_for('main.edit_profile') }}">Edit Profile</a><hr>
              {% endif %}
            </div>
          </div>
          {% if socials %}
          <div class="card mb-4 mb-lg-0">
            <div class="card-body p-0">
              <ul class="list-group list-group-flush rounded-3">
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fas fa-globe fa-lg text-warning"></i>
                  <a class="mb-0" href="http://{{ user.socials.website }}" target="_blank">{{ user.socials.website }}</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-github fa-lg text-body"></i>
                  <a class="mb-0" href="https://github.com/{{ user.socials.github }}" target="_blank">{{ user.socials.github }}</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-twitter fa-lg" style="color: #55acee;"></i>
                  <a class="mb-0"href="https:///x.com/{{ user.socials.twitter}}" target="_blank">{{ user.socials.twitter}}</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                  <a class="mb-0" href="https://instagram.com/{{ user.socials.instagram }}" target="_blank">{{ user.socials.instagram }}</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                  <a class="mb-0" href="https://facebook.com/{{ user.socials.facebook }}" target="_blank">{{ user.socials.facebook }}</a>
                </li>
              </ul>
            </div>
          </div>
          {% endif %}
        </div>
        <div class="col-lg-8">
          {% if personal_info_fields %}
                <div class="card mb-4  accordion">
                    <div class="card-header" id="personalInfoId">
                        <a class="btn btn-link" data-toggle="collapse" data-target="#personalInfo"  href="#personalInfo" role="button" aria-expanded="false" aria-controls="personalInfo">
                            Personal Information
                        </a>
                    </div>
                    <div id="personalInfo" class="collapse" aria-labelledby="personalInfo" data-parent="#accordion">
                        <div class="card-body">
                            {% for label, value in personal_info_fields %}
                            {% if value %}
                            <div class="row">
                                <div class="col-sm-3">
                                    <p class="mb-0">{{ label }}</p>
                                </div>
                                <div class="col-sm-9">
                                    <p class="text-muted mb-0">{{ value }}</p>
                                </div>
                            </div>
                            <hr>
                            {% endif %}
                            {% endfor %}
                        </div>
                       
                        
                    </div>
                </div>
                {% else %}
                <p>No personal information available.</p>
                {% endif %}

                {% if job_info_fields %}
                <div class="card mb-4  accordion">
                    <div class="card-header" id="jobInfoId">
                        <a class="btn btn-link" data-toggle="collapse" data-target="#jobInfo" href="#jobInfo" role="button" aria-expanded="false" aria-controls="jobInfo">
                            Job Information
                        </a>
                    </div>
                    <div id="jobInfo" class="collapse" aria-labelledby="jobInfo" data-parent="#accordion">
                        <div class="card-body">
                            {% for label, value in job_info_fields %}
                            {% if value %}
                            <div class="row">
                                <div class="col-sm-3">
                                    <p class="mb-0">{{ label }}</p>
                                </div>
                                <div class="col-sm-9">
                                    <p class="text-muted mb-0">{{ value }}</p>
                                </div>
                            </div>
                            <hr>
                            {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% else %}
                <p>No job information available.</p>
                {% endif %}

                {% if job_info_fields %}
                <div class="card mb-4  accordion">
                    <div class="card-header" id="bookmarkId">
                        <a class="btn btn-link" data-toggle="collapse" data-target="#bookmarks" href="#bookmarks" role="button" aria-expanded="false" aria-controls="bookmarks">
                            Bookmarks
                        </a>
                    </div>
                    <div id="bookmarks" class="collapse" aria-labelledby="bookmarks" data-parent="#accordion">
                        <div class="card-body">
                            {% for label, value in job_info_fields %}
                            {% if value and value.strip() != '' %}
                            <div class="row">
                                <div class="col-sm-3">
                                    <p class="mb-0">{{ label }}</p>
                                </div>
                                <div class="col-sm-9">
                                    <p class="text-muted mb-0">{{ value }}</p>
                                </div>
                            </div>
                            {% endif %}
                            <hr>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% else %}
                <p>No Bookmarks available.</p>
                {% endif %}

                {% if job_info_fields %}
                <div class="card mb-4  accordion">
                    <div class="card-header" id="projectsId">
                        <a class="btn btn-link" data-toggle="collapse" data-target="#projectsInfo" href="#projectsInfo" role="button" aria-expanded="false" aria-controls="projectsInfo">
                            Projects
                        </a>
                    </div>
                    
                </div>
                {% else %}
                <p>No projects available.</p>
                {% endif %}


          
        </div>
      </div>
    </div>
  </section>
</div>
  


{% endblock %}